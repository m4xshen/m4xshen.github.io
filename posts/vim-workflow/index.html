<!doctype html><html class="not-ready text-sm lg:text-base" style=--bg:#faf6f1 lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Vim Workflow - m4xshen</title><meta name=theme-color><meta name=description content="Max Shen share his Vim motion workflow and provide some examples when using Vim. You can learn when to use which Vim command in this tutorial."><meta name=author content="Max Shen"><link rel="preload stylesheet" as=style href=https://m4xshen.me/main.min.css><script defer src=https://m4xshen.me/highlight.min.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=preload as=image href=https://m4xshen.me/theme.png><link rel=preload as=image href="https://www.gravatar.com/avatar/ca6d5ab638ebf7849057ff0186f44f46?s=160&d=identicon"><link rel=preload as=image href=https://m4xshen.me/github.svg><link rel=icon href=https://m4xshen.me/favicon.ico><link rel=apple-touch-icon href=https://m4xshen.me/apple-touch-icon.png><meta name=generator content="Hugo 0.110.0"><script async src="https://www.googletagmanager.com/gtag/js?id=G-H19K5X8RCB"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-H19K5X8RCB")</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-348126858","auto"),ga("send","pageview"))</script><meta property="og:title" content="Vim Workflow"><meta property="og:description" content="Max Shen share his Vim motion workflow and provide some examples when using Vim. You can learn when to use which Vim command in this tutorial."><meta property="og:type" content="article"><meta property="og:url" content="https://m4xshen.me/posts/vim-workflow/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-26T00:00:00+00:00"><meta property="article:modified_time" content="2023-01-26T00:00:00+00:00"><meta itemprop=name content="Vim Workflow"><meta itemprop=description content="Max Shen share his Vim motion workflow and provide some examples when using Vim. You can learn when to use which Vim command in this tutorial."><meta itemprop=datePublished content="2023-01-26T00:00:00+00:00"><meta itemprop=dateModified content="2023-01-26T00:00:00+00:00"><meta itemprop=wordCount content="558"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Vim Workflow"><meta name=twitter:description content="Max Shen share his Vim motion workflow and provide some examples when using Vim. You can learn when to use which Vim command in this tutorial."></head><body class="text-black duration-200 ease-out dark:text-white"><header class="mx-auto flex h-[5rem] max-w-3xl px-8 lg:justify-center"><div class="relative z-50 mr-auto flex items-center"><a class="-translate-x-[1px] -translate-y-0.5 text-3xl font-bold" href=https://m4xshen.me>m4xshen</a>
<a class="btn-dark ml-6 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]"></a></div><a class="btn-menu relative z-50 -mr-8 flex h-[5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"></a>
<script>const htmlClass=document.documentElement.classList;setTimeout(()=>{htmlClass.remove("not-ready")},10);const btnMenu=document.querySelector(".btn-menu");btnMenu.addEventListener("click",()=>{htmlClass.toggle("open")});const metaTheme=document.querySelector('meta[name="theme-color"]'),lightBg=`"#faf6f1"`.replace(/"/g,""),setDark=e=>{metaTheme.setAttribute("content",e?"#000":lightBg),htmlClass[e?"add":"remove"]("dark"),localStorage.setItem("dark",e)},darkScheme=window.matchMedia("(prefers-color-scheme: dark)");if(htmlClass.contains("dark"))setDark(!0);else{const e=localStorage.getItem("dark");setDark(e?e==="true":darkScheme.matches)}darkScheme.addEventListener("change",e=>{setDark(e.matches)});const btnDark=document.querySelector(".btn-dark");btnDark.addEventListener("click",()=>{setDark(localStorage.getItem("dark")!=="true")})</script><div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"><nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-6"><a class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal" href=/about/>About</a>
<a class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal" href=/posts/>Posts</a>
<a class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal" href=/projects/>Projects</a></nav><nav class="mt-12 flex justify-center space-x-10 dark:invert lg:mt-0 lg:ml-12 lg:items-center lg:space-x-6"><a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./github.svg) href=https://github.com/m4xshen target=_blank></a></nav></div></header><main class="prose prose-neutral relative mx-auto min-h-[calc(100%-10rem)] max-w-3xl px-8 pt-20 pb-32 dark:prose-invert"><article><header class=mb-20><h1 class="!my-0 pb-2.5">Vim Workflow</h1><div class="text-sm opacity-60"><time>Jan 26, 2023</time>
<span class=mx-1>&#183;</span>
<span>Max Shen</span></div></header><section><p>There are many commands in Vim, and therefore it is difficult for beginner to learn how to achieve an editing task with less keystrokes. In this tutorial, I&rsquo;ll share my Vim workflow and give you some guidelines about how to edit text in Vim more efficiently.</p><h1 id=workflow>Workflow</h1><p>There are some general rules in my workflow.</p><ol><li>Use relative jump (eg: <code>5k 9j</code>) for vertical movement inside screen.</li><li>Use <code>CTRL-U CTRL-D CTRL-B CTRL-F gg G</code> for vertical movement outside screen.</li><li>Use word-motion (<code>w W b B e E ge gE</code>) for short distance horizontal movement.</li><li>Use <code>f F t T 0 ^ $ , ;</code> for long distance horizontal movement.</li><li>Use <code>operator + motion/text-object</code> (eg: <code>ci{ d5j</code>) whenever possible.</li></ol><p>If you are not familiar with some of these concepts, please read about the <a href=/posts/vim-basic>vim basic</a> first.</p><h1 id=examples>Examples</h1><p>Here are some real situations I faced when creating a todo list website with javascript. You can think about how you will achieve the goal first and then see my approach.</p><p>Notes:</p><ul><li><code>^</code> or <code>v</code> points to the position of the cursor.</li><li>There are line number and relative line number on the left.</li></ul><h2 id=situation-1>Situation 1</h2><p>Goal: Change <code>activeList</code> to <code>this</code> and add a <code>;</code> at the end of the line.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// current mode: NORMAL
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#ae81ff>2</span> <span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>sortMethod</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;Name&#39;</span>) {
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1</span>   <span style=color:#a6e22e>activeList</span>.<span style=color:#a6e22e>uncheckedTodo</span>.<span style=color:#a6e22e>sort</span>(<span style=color:#a6e22e>sortWithName</span>)
</span></span><span style=display:flex><span><span style=color:#ae81ff>189</span> }
</span></span><span style=display:flex><span>    <span style=color:#f92672>^</span>
</span></span></code></pre></div><p>My approach is <code>k^cwthis&lt;ESC>A;</code>.</p><ul><li><code>k</code>: Go up 1 line.</li><li><code>^</code>: Jump to the first non-blank character of the line.</li><li><code>cwthis</code>: Change the word and type <code>this</code>.</li><li><code>&lt;ESC></code>: Leave insert mode.</li><li><code>A;</code>: Jump to the end of the line and type <code>;</code>.</li></ul><h2 id=situation-2>Situation 2</h2><p>Goal: Change <code>i-s+1</code> to <code>d</code> and add <code>new</code> before <code>Date(y, m, d)</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// current mode: NORMAL
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#ae81ff>454</span> <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(Date(<span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>m</span>, <span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#a6e22e>s</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>));
</span></span><span style=display:flex><span>                        <span style=color:#f92672>^</span>
</span></span></code></pre></div><p>My approach is <code>Wct)d&lt;C-o>FDnew </code>. (<code>&lt;C-o></code> means <code>CTRL-O</code>)</p><ul><li><code>W</code>: Go one word forward, ignore symbol.</li><li><code>ct)</code>: Change till before the occurrence of <code>)</code> to the right.</li><li><code>d&lt;ESC></code>: Type <code>d</code> and exit Insert mode.</li><li><code>&lt;C-o></code>: Execute one command in Normal mode and then return to Insert mode.</li><li><code>FD</code>: Go to the occurrence of <code>D</code> to the left.</li><li><code>new </code>: Type <code>new </code>.</li></ul><h2 id=situation-3>Situation 3</h2><p>Goal: Add a line <code>activeList.sortMethod = 'Date';</code> below <code>document.querySelector('.sort-date')...</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// current mode: INSERT
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#ae81ff>1</span> document.<span style=color:#a6e22e>querySelector</span>(<span style=color:#e6db74>&#39;.sort-name&#39;</span>).<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;click&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span><span style=color:#ae81ff>343</span>   <span style=color:#a6e22e>activeList</span>.<span style=color:#a6e22e>sortMethod</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Name&#39;</span>; 
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1</span>   <span style=color:#a6e22e>activeList</span>.<span style=color:#a6e22e>update</span>();           <span style=color:#f92672>^</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>2</span> })
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>3</span> 
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>4</span> document.<span style=color:#a6e22e>querySelector</span>(<span style=color:#e6db74>&#39;.sort-date&#39;</span>).<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;click&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>5</span>   <span style=color:#a6e22e>activeList</span>.<span style=color:#a6e22e>update</span>();
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>6</span> })
</span></span></code></pre></div><p>My approach is <code>&lt;ESC>yy4jpci'Date</code>.</p><ul><li><code>&lt;ESC></code>: Leave insert mode.</li><li><code>yy</code>: Yank current line.</li><li><code>4j</code>: Go down 4 line.</li><li><code>p</code>: Paste the line we just yanked.</li><li><code>ci'Date</code>: Change the content inside &rsquo;&rsquo; and type <code>Date</code>.</li></ul><h2 id=situation-4>Situation 4</h2><p>Goal: Move the whole block of <code>//sort</code> (line 200 ~ 207) to the beginning of <code>update()</code> function.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// current mode: NORMAL
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#ae81ff>8</span> <span style=color:#a6e22e>update</span>() {
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>7</span>   <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>checkedTodo</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>todo</span>) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>6</span>     <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>element</span>.<span style=color:#a6e22e>insertBefore</span>(<span style=color:#a6e22e>todo</span>.<span style=color:#a6e22e>element</span>, <span style=color:#a6e22e>todoCreator</span>.<span style=color:#a6e22e>nextSibling</span>);
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>5</span>   });
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>4</span>   <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uncheckedTodo</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>todo</span>) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>3</span>     <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>element</span>.<span style=color:#a6e22e>insertBefore</span>(<span style=color:#a6e22e>todo</span>.<span style=color:#a6e22e>element</span>, <span style=color:#a6e22e>todoCreator</span>.<span style=color:#a6e22e>nextSibling</span>);
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>2</span>   });
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1</span>         <span style=color:#a6e22e>v</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>200</span>   <span style=color:#75715e>// sort
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#ae81ff>1</span>   <span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>sortMethod</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;Name&#39;</span>) {
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>2</span>     <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uncheckedTodo</span>.<span style=color:#a6e22e>sort</span>(<span style=color:#a6e22e>sortWithName</span>);
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>3</span>   }
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>4</span>   <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>sortMethod</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;Date&#39;</span>) {
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>5</span>     <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uncheckedTodo</span>.<span style=color:#a6e22e>sort</span>(<span style=color:#a6e22e>sortWithDate</span>);
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>6</span>   }
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>7</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>8</span>   <span style=color:#a6e22e>createCalendar</span>(<span style=color:#a6e22e>currentYear</span>, <span style=color:#a6e22e>currentMonth</span>, <span style=color:#66d9ef>this</span>);
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>9</span> }
</span></span></code></pre></div><p>My approach is <code>dap8kp</code>.</p><ul><li><code>dap</code>: Delete around the paragraph.</li><li><code>8k</code>: Go up 8 lines.</li><li><code>p</code>: Paste the paragraph we just deleted.</li></ul><h1 id=final-words>Final Words</h1><p>If you just start learning Vim operators, motions, it may take some times to think of what commands to use for each situation. However, If you keep practicing and using them, you&rsquo;ll become faster and faster. Finally, you&rsquo;ll have an ituition in using commands.</p></section><nav class="mt-24 flex rounded-lg bg-black/[3%] p-1.5 text-lg dark:bg-white/[8%]"><a class="ml-auto flex w-1/2 items-center justify-end rounded-md p-6 pl-3 no-underline hover:bg-black/[2%]" href=https://m4xshen.me/posts/vim-basic/><span>Vim Basics</span><span class=ml-1.5>→</span></a></nav><div class=mt-24 id=disqus_thread></div><script>const disqusShortname="m4xshen",script=document.createElement("script");script.src="https://"+disqusShortname+".disqus.com/embed.js",script.setAttribute("data-timestamp",+new Date),document.head.appendChild(script)</script></article></main><footer class="opaco mx-auto flex h-[5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"><div class=mr-auto>&copy; 2023
<a class=link href=https://m4xshen.me>m4xshen</a></div><a class="link mx-6" href=https://gohugo.io/ rel=noopener target=_blank>Powered by Hugo️️</a>️</footer></body></html>